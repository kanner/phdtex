% !TEX root = ../dissertation.tex

%
% phdtex
%
% Copyright (c) 2014-2020, Andrew Kanner <andrew.kanner@gmail.com>.
% All rights reserved.
%
% SPDX-License-Identifier: CC-BY-4.0
%

\appendix

% исключить из template/parts/lists.tex в \listoffigures
% и \listoftables сущности Приложения
\captionsetup{list=no}

% вернем формат для описания слова "Приложение"
\titleformat{\chapter}[display]{\centering\bf}{\chaptertitlename\
  \thechapter}{10pt}{\bf}

%\sectionformat{\chapter}[display]{
%  label=\chaptertitlename\ \thechapter,
%  labelsep=20pt,
%}

% кириллические буквы для обозначения приложений
\renewcommand\thechapter{\Asbuk{chapter}}

% добавление в TOC слова "Приложение"
\addtocontents{toc}{\def\protect\cftchappresnum{\chaptertitlename\
    \thechapter}
  \setlength{\cftchapnumwidth}{\widthof{\cftchapfont\appendixname~Ш\cftchapaftersnum}}
}


\appendix
\renewcommand{\thechapter}{\Asbuk{chapter}}

\begin{singlespace}
  \appndchapter{Название первого приложения} \label{AppendixA}
\end{singlespace}

Текст приложения \dots{}

Какой-нибудь длинный листинг, который не был помещен в основной текст.

\begin{lstlisting}[language=C,label=listing2,caption=Пример длинного
  листинга на языке C (\textbf{hello-world.c})]
  #include <stdio.h>

  int main(void) {
    printf("Hello world!\n");
    return 0;
  }
\end{lstlisting}



\begin{singlespace}
  \appndchapter{Название второго приложения} \label{AppendixB}
\end{singlespace}

Какая-нибудь длинная таблица (см. таблицу \ref{table1}) с полными
результатами экспериментальных исследований или чем-то еще.

\setcounter{rowcount}{0}
%\captionsetup{belowskip=-10pt}
\begin{longtable}{|p{0.2\linewidth}|c|}
  \caption{Подпись таблицы -- сверху} \label{table1} \\

  \hline

  \begin{tabular}{@{}l@{}}\textbf{Текст1} \\
                 \textbf{Текст2}\end{tabular} & \textbf{Текст3} \\

  \hline
  \endfirsthead

  \multicolumn{2}{l}{\small Продолжение таблицы \ref{table1}} \\
  \hline

  \begin{tabular}{@{}l@{}}\textbf{Текст1} \\
                 \textbf{Текст2}\end{tabular} & \textbf{Текст3} \\

  \hline
  \endhead %\hline

  \multicolumn{2}{|r|}{} \\

  \endfoot %\hline
  \endlastfoot

  \rownumber{} \cellcolor{green!25}Отдельный & \cellcolor{red!25}столбец \\
  \hline

  \rownumber{} \cellcolor{yellow!25}с нумерацией & \cellcolor{green!25}делать \\
  \hline

  \rownumber{} \cellcolor{red!25}нельзя, см. & \cellcolor{yellow!25}ГОСТ 2.105-95 \\
  \hline

\end{longtable}



\begin{singlespace}
  \appndchapter{Документы, подтверждающие внедрение результатов
    диссертации} \label{AppendixC}
\end{singlespace}

%%\includepdf{./images/regcert.pdf}
%\includegraphics[width=0.95\textwidth,height=0.95\textheight,keepaspectratio]{./images/regcert.pdf}

% \total{appendnum}
\setcounter{myappendices}{\value{appendnum}}
\storecounter{myappendices}

%\clearpage
