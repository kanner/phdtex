%% Макет страницы, поля и разметка [перенесено в stylesgost.tex]
%\geometry{a4paper,top=2cm,bottom=2cm,left=3cm,right=1cm}

%% Кодировки и шрифты
% times new roman
\renewcommand{\rmdefault}{ftm}

%% Альтернативные шрифты (см. packages.tex)
% свойства шрифтов по умолчанию
%\defaultfontfeatures{Ligatures={TeX},Renderer=Basic}
% основной шрифт документа
%\setmainfont[Ligatures={TeX,Historic}]{Times New Roman}
% шрифт без засечек
%\setsansfont{Comic Sans MS}
%\setmonofont{Courier New}
% начертание шрифта
%\renewcommand{\familydefault}{\sfdefault}

%% Номера формул
% номера только у тех формул, на которые есть \eqref{} в тексте
%\mathtoolsset{showonlyrefs=true}

%% Выравнивание и переносы
% не допускать переполнений
\sloppy
% запретить разрыв страницы после первой строки абзаца
\clubpenalty=10000
% запретить разрыв страницы после последней строки абзаца
\widowpenalty=10000
% для растягивания или игнорирования "Underfull \hbox"
%\setlength{\emergencystretch}{1pt}
%\sloppy
% глобальные правила переноса (или запрета переноса)
%\hyphenation{сло-во}
% "Overfull", стандартный допустимый: 0.1pt
%\hfuzz=2.5pt
% разреженность, стандартный порог: 200
%\tolerance=400

%% Математические конструкции (теоремы, утверждения и т.д.)
% стиль по умолчанию
\theoremstyle{plain}
\newtheorem{theorem}{Теорема}
\newtheorem{proposition}{Утверждение}
\newtheorem{lemma}{Лемма}
% стиль определений
\theoremstyle{definition}
\newtheorem{corollary}{Следствие}
\newtheorem{problem}{Задача}[section]
\newtheorem{condition}{Условие}
\newtheorem{definition}{Определение}
\newtheorem{axiom}{Аксиома}
% стиль примечаний
\theoremstyle{remark}
\newtheorem*{nonum}{Решение}

%% Цветовые эффекты (выделение текста)
\newcommand\hly[1]{\colorbox{yellow!80}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
\newcommand\hlg[1]{\colorbox{green!80}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
% цветные текст-боксы для таблиц и графиков
\newcommand\hlyy[1]{\fcolorbox{black!50}{yellow!25}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
\newcommand\hlgg[1]{\fcolorbox{black!50}{green!25}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
\newcommand\hlbrr[1]{\fcolorbox{black!50}{brown!25}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
\newcommand\hlbll[1]{\fcolorbox{black!50}{black!25}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
\newcommand\hlrr[1]{\fcolorbox{black!50}{red!25}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
\newcommand\hlbluu[1]{\fcolorbox{black!50}{blue!25}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
\newcommand\hlempty[1]{\fcolorbox{black!50}{white}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
\newcommand\hlbr[1]{\colorbox{brown!80}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
\newcommand\hlbl[1]{\colorbox{black!80}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
\newcommand\hlr[1]{\colorbox{red!80}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
\newcommand\hlblu[1]{\colorbox{blue!80}{\begin{varwidth}{\dimexpr\linewidth-2\fboxsep}#1\end{varwidth}}}
% deprecated вариант2
% \newcommand\hl{\bgroup\markoverwith{\textcolor{yellow}{\rule[-.5ex]{2pt}{2.5ex}}}\ULon}
% deprecated вариант3
%\newcommand*{\hl}[1]{\colorbox{yellow}{#1}}

%% Изображения
% путь к каталогу с изображениями
\graphicspath{{images/}}
% отступ рамки \fbox{} от рисунка
\setlength\fboxsep{3pt}
% толщина линий рамки \fbox{}
\setlength\fboxrule{1pt}

%% Библиография
\makeatletter
% библиография в соответствии с ГОСТ 7.1-2003
\bibliographystyle{\template/contrib/utf8gost71my}
% заменить квадратные скобки на точку
\renewcommand{\@biblabel}[1]{#1.}
\makeatother

%% Гиперссылки: цвета и другие настройки
\definecolor{linkcolor}{rgb}{0.9,0,0}
\definecolor{citecolor}{rgb}{0,0.6,0}
\definecolor{urlcolor}{rgb}{0,0,1}
\hypersetup{
  % русские буквы в разделах
  unicode=true,
  % true: цветные ссылки; false: ссылки в рамках
  colorlinks=true,
  % внутренние ссылки
  linkcolor={linkcolor},
  % ссылки на библиографию
  citecolor={citecolor},
  % на файлы
  filecolor=magenta,
  % на URL
  urlcolor={urlcolor}
}

%% Оглавление
\renewcommand{\cftchapdotsep}{\cftdotsep}


%% Листинги
% стиль javascript
\lstdefinelanguage{JavaScript}{
  keywords={break, case, catch, continue, debugger, default, delete,
    do, else, false, finally, for, function, if, in, instanceof, new,
    null, return, switch, this, throw, true, try, typeof, var, void,
    while, with},
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  morestring=[b]',
  morestring=[b]",
  ndkeywords={class, export, boolean, throw, implements, import,
    this},
  keywordstyle=\color{blue}\bfseries,
  ndkeywordstyle=\color{yellow}\bfseries,
  identifierstyle=\color{black},
  commentstyle=\color{green}\ttfamily,
  stringstyle=\color{red}\ttfamily
  sensitive=true,
}
% стиль xml
\lstdefinelanguage{xml}{
  morekeywords={name,description,memory,unit,os,arch,machine,devices,emulator,hostdev,
    mode, type, managed, source, vendor, id, product, address, domain,
    bus, slot, function},
  numbers=none,
  frame=none,
  belowskip=2pt,
  caption=,
}
% стиль bash
\lstdefinelanguage{bashhh}{
  morekeywords={modprobe,echo},
  deletekeywords={bind},
  morecomment=[l]{\#},
  numbers=none,
  frame=none,
  belowskip=2pt,
  caption=,
}
% цветовая схема для выделения блоков кода
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codemauve}{rgb}{0.58,0,0.82}
\lstset{
  % язык программирования [должен выставляться в самом листинге!]
  % language=C,
  % language=JavaScript,
  % моноширинный шрифт
  columns=fixed,
  % цвет фона (использует пакеты color/xcolor)
  backgroundcolor=\color{white},
  % размер и начертание
  basicstyle=\small\sffamily,
  % перенос строки только при наличии пробела
  breakatwhitespace=false,
  % автоматический перенос строк
  breaklines=true,
  % позиция заголовка (вверху: t, внизу: b)
  captionpos=b,
  % стиль для комментариев
  commentstyle=\color{codegreen},
  % стиль для ключевых слов
  keywordstyle=\color{blue},
  % дополнительные ключевые слова
  morekeywords={*,...},
  % можно удалить какие-нибудь ключевые слова
  deletekeywords={...},
  % для использования latex в коде
  escapeinside={\%*}{*)},
  % разрешить использовать не-ASCII символы
  extendedchars=true,
  % extendedchars=\true,
  % inputencoding=utf8x,
  % keepspaces = true,
  % добавить рамку вокруг кода
  frame=single,
  % если не установлено, то цвет рамки может меняться
  rulecolor=\color{black},
  % позиция номеров строк
  numbers=left,
  % расстояние от номера строки до кода
  numbersep=5pt,
  % размер шага между номерами строк
  stepnumber=1,
  % стиль для номеров строк
  numberstyle=\tiny\color{codegray},
  % не показывать пробелы в виде отступов
  showspaces=false,
  % не показывать пробелы в строках
  showstringspaces=false,
  % не показывать знаки табуляции
  showtabs=false,
  % стиль для строковых литералов
  stringstyle=\color{codemauve},
  % размер табуляции
  tabsize=2,
  % показывать имя подключаемого файла
  title=\lstname
}

%% Разное
% использовать \slash для переноса слов, разделенных "\"?
